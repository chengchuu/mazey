"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.mFriendlyInterval=exports.mDebounce=exports.mThrottle=exports.mCompatibleExist=exports.mFloatFixed=exports.mFloatToPercent=exports.mResetForm=exports.mGenerateUniqueNum=exports.mGenerateRndNum=exports.deepCopyObject=exports.newLine=exports.mTrim=exports.mGetTrim=exports.mGetDomain=exports.mCamelCaseToKebabCase=exports.mGetQueryParam=exports.mRenderTable=exports.mJoin=undefined;exports.mDeepCopyObject=mDeepCopyObject;exports.mCancelBubble=mCancelBubble;exports.hasCls=hasCls;exports.addCls=addCls;exports.removeCls=removeCls;var _set=require("./data-structure/set");var _set2=_interopRequireDefault(_set);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var mJoin=exports.mJoin=function mJoin(joinStr){for(var _len=arguments.length,rest=Array(_len>1?_len-1:0),_key=1;_key<_len;_key++){rest[_key-1]=arguments[_key]}var _ref=["",joinStr.length],ret=_ref[0],len=_ref[1];var _iteratorNormalCompletion=true;var _didIteratorError=false;var _iteratorError=undefined;try{for(var _iterator=rest[Symbol.iterator](),_step;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=true){var v=_step.value;if(v){ret+=""+joinStr+v}}}catch(err){_didIteratorError=true;_iteratorError=err}finally{try{if(!_iteratorNormalCompletion&&_iterator.return){_iterator.return()}}finally{if(_didIteratorError){throw _iteratorError}}}if(ret){ret=ret.substring(len)}return ret};var mRenderTable=exports.mRenderTable=function mRenderTable(){var tbID=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;var data=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];var property=arguments.length>2&&arguments[2]!==undefined?arguments[2]:[];var TBODY=document.querySelector("#"+tbID+" tbody");var mNullToNA=function mNullToNA(str){return str===null?"N.A.":str};var content="";TBODY.innerHTML="";if(!data.length){content='<tr><td colspan="'+property.length+'">无数据</td></tr>'}else{for(function(){var _ref2=[0,data.length];var i=_ref2[0],max=_ref2[1]}();i<max;++i){var item=data[i];content+="<tr>";for(function(){var _ref3=[0,property.length];var _i=_ref3[0],_max=_ref3[1]}();_i<_max;++_i){content+="<td>"+mNullToNA(item[property[_i]])+"</td>"}content+="</tr>"}}TBODY.innerHTML=content};var mGetQueryParam=exports.mGetQueryParam=function mGetQueryParam(param){var hashs=window.location.hash.split("?");if(hashs.length===1){return null}var reg=new RegExp("(^|&)"+param+"=([^&]*)(&|$)");var ret=hashs[1].match(reg);return ret?ret[2]:null};var mCamelCaseToKebabCase=exports.mCamelCaseToKebabCase=function mCamelCaseToKebabCase(camelCase){var kebabCase=camelCase.replace(/([A-Z])/g,"-$1").toLowerCase();return kebabCase[0]==="-"?kebabCase.substr(1):kebabCase};var mGetDomain=exports.mGetDomain=function mGetDomain(url){var aEl=document.createElement("a");aEl.href=url;return aEl.hostname};var mGetTrim=exports.mGetTrim=function mGetTrim(str){return str.replace(/^\s+|\s+$/gm,"")};var mTrim=exports.mTrim=function mTrim(str){str=str.replace(/^\s+/,"");var end=str.length-1,ws=/\s/;while(ws.test(str.charAt(end))){end--}return str.slice(0,end+1)};var newLine=exports.newLine=function newLine(str){if(!str){return""}var reg=new RegExp("\\n","g");return str.replace(reg,"<br />")};function mDeepCopyObject(obj){return JSON.parse(JSON.stringify(obj))}var deepCopyObject=exports.deepCopyObject=mDeepCopyObject;var mGenerateRndNum=exports.mGenerateRndNum=function mGenerateRndNum(n){var ret="";while(n--){ret+=Math.floor(Math.random()*10)}return ret};var mGenerateUniqueNum=exports.mGenerateUniqueNum=function mGenerateUniqueNum(n){var _ref4=[mNow(),mGenerateRndNum(n||3)],now=_ref4[0],rnd=_ref4[1];return now+rnd};var mResetForm=exports.mResetForm=function mResetForm(){for(var _len2=arguments.length,rest=Array(_len2),_key2=0;_key2<_len2;_key2++){rest[_key2]=arguments[_key2]}for(var i=0;i<rest.length;i++){var tagMz=document.getElementsByName(rest[i])[0];var tagNameMz=tagMz.tagName.toLowerCase();if(tagNameMz==="input"){tagMz.value=""}else if(tagNameMz==="select"){tagMz.options[0].selected=true}}};var mFloatToPercent=exports.mFloatToPercent=function mFloatToPercent(num,isFix){if(isFix){num=(num*100).toFixed(isFix)}else{num=Math.floor(num*100)}return num+"%"};var mFloatFixed=exports.mFloatFixed=function mFloatFixed(num,size){return parseFloat(num,10).toFixed(size)};var mCompatibleExist=exports.mCompatibleExist=function mCompatibleExist(instance,replaceStr){var ret="";try{ret=instance?instance:replaceStr||"——"}catch(e){ret="——"}return ret};function mCancelBubble(e){var ev=e?e:window.event;if(ev.stopPropagation){ev.stopPropagation()}else{ev.cancelBubble=true}}function hasCls(obj,cls){var oriCls=obj.className;var oriClsArr=oriCls.split(/\s+/);for(var i=0;i<oriClsArr.length;i++){if(oriClsArr[i]===cls){return true}}return false}function addCls(obj,cls){var oriCls=obj.className;var space="";var newCls=void 0;if(oriCls!==""){space=" "}newCls=oriCls+space+cls;obj.className=newCls}function removeCls(obj,cls){var oriCls=obj.className;var newCls=void 0;newCls=" "+oriCls+" ";newCls=newCls.replace(/(\s+)/gi," ");newCls=newCls.replace(" "+cls+" "," ");newCls=newCls.replace(/(^\s+)|(\s+$)/g,"");obj.className=newCls}var mNow=Date.now||function(){return(new Date).getTime()};var mThrottle=exports.mThrottle=function mThrottle(func,wait,options){var context=null,args=null,result=null,timeout=null,previous=0;if(!options){options={}}var later=function later(){previous=options.leading===false?0:mNow();timeout=null;result=func.apply(context,args);if(!timeout){context=args=null}};return function(){var now=mNow();if(!previous&&options.leading===false){previous=now}var remaining=wait-(now-previous);context=this;args=arguments;if(remaining<=0||remaining>wait){if(timeout){clearTimeout(timeout);timeout=null}previous=now;result=func.apply(context,args);if(!timeout){context=args=null}}else if(!timeout&&options.trailing!==false){timeout=setTimeout(later,remaining)}return result}};var mDebounce=exports.mDebounce=function mDebounce(func,wait,immediate){var timeout=null,args=null,context=null,timestamp=null,result=null;var later=function later(){var last=mNow()-timestamp;if(last<wait&&last>=0){timeout=setTimeout(later,wait-last)}else{timeout=null;if(!immediate){result=func.apply(context,args);if(!timeout){context=args=null}}}};return function(){context=this;args=arguments;timestamp=mNow();var callNow=immediate&&!timeout;if(!timeout){timeout=setTimeout(later,wait)}if(callNow){result=func.apply(context,args);context=args=null}return result}};var mFriendlyInterval=exports.mFriendlyInterval=function mFriendlyInterval(start,end){var t=end.getTime()-start.getTime();var ret="未来不可期";if(t>=0){var d=Math.floor(t/1e3/60/60/24);var h=Math.floor(t/1e3/60/60%24);var m=Math.floor(t/1e3/60%60);var s=Math.floor(t/1e3%60);ret=d+" 天 "+h+" 时 "+m+" 分 "+s+" 秒"}return ret};